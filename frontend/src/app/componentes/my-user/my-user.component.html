<app-navbar></app-navbar>
<div class="container" style="margin-top: 30px;">
  <div class="header">
    <img src="assets/photo.jpeg" class="avatar" alt="miFoto">
    <h1 class="user-name" style="font-family: 'Rowdies';">{{usuario.nombre |titlecase}} {{usuario.apellido | titlecase}}</h1>
  </div>
  <div style="width: 40%; margin: auto;">
    <h3 style="text-align: center; font-family: Georgia, 'Times New Roman', Times, serif; margin-top: 15px;">Mi Información...</h3>
    <ul class="datos">
      <li><b>Cui y/o carné: </b><a>{{usuario.CUI}}</a></li>•
      <li><b>Usuario: </b><a>{{usuario.usuario}}</a></li>
      <li><b>E-mail: </b><a>{{usuario.email}}</a></li>•
      <li><b>Rol: </b><a>{{usuario.rol}}</a></li>
    </ul>
  </div>
  <ul class="social">
    <button type="button" class="btn btn-outline-primary" style="margin-right: 10px;" data-bs-toggle="modal" data-bs-target="#editarModal" (click)="obtenerUsuario();"><i class="far fa-edit"></i> Editar Usuario</button>
    <button type="button" class="btn btn-outline-danger" (click)="eliminarUsuario();"><i class="far fa-trash-alt"></i> Eliminar Usuario</button>
  </ul>
</div>

<!-- Sección de los modals -->

<!-- Modal para editar mi usuario -->
<div class="modal fade" id="editarModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Editar Mi Usuario</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form class="was-validated" ngNativeValidate>
          <div class="mb-3">
            <label for="CUI" class="form-label">CUI y/o Carne</label>
            <input type="text" class="form-control" id="CUI" [(ngModel)]="newUser.CUI" name="CUI" aria-describedby="CUIHelp" disabled>
            <div class="valid-feedback">
              Correcto
            </div>
          </div>
          <div class="mb-3">
            <label for="nombres" class="form-label">Nombres</label>
            <input type="text" class="form-control" id="nombres" [(ngModel)]="newUser.nombre" name="nombre" aria-describedby="nombreslHelp" minlength="3" required placeholder="Ingrese su nuevo nombre">
            <div class="invalid-feedback">
              Datos ingresados incorrectos
            </div>
          </div>
          <div class="mb-3">
            <label for="apellidos" class="form-label">Apellidos</label>
            <input type="text" class="form-control" id="apellidos" [(ngModel)]="newUser.apellido" name="apellido" aria-describedby="apellidoslHelp" minlength="3" required placeholder="Ingrese su nuevo apellido">
            <div class="invalid-feedback">
              Datos ingresados incorrectos
            </div>
          </div>
          <div class="mb-3">
            <label for="usuario" class="form-label">Usuario</label>
            <input type="text" class="form-control" id="usuario" [(ngModel)]="newUser.usuario" name="usuario" aria-describedby="usuariolHelp" minlength="3" required placeholder="Ingrese su nuevo usuario">
            <div class="invalid-feedback">
              Datos ingresados incorrectos
            </div>
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">E-mail</label>
            <input type="email" class="form-control" id="email" [(ngModel)]="newUser.email" name="email" aria-describedby="emailHelp" minlength="3" required placeholder="Ingrese su nuevo e-mail">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-success" (click)="editarUsuario();" data-bs-dismiss="modal">Confirmar</button>
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>
