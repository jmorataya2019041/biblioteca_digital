<app-navbar></app-navbar>
<div class="container col-10" style="margin-top: 60px;">
  <div class="box">
    <select #selectOption (change)="selector($event.target.value)">
      <option selected>Selecciona</option>
      <option value="Buscar">Buscar</option>
      <option value="Todos">Todos los Usuarios</option>
    </select>
  </div>

  <div class="input-group mb-3" *ngIf="opcionPrueba === 'buscar' ">
    <span class="input-group-text" (click)="buscarUsuario(userInput.value)"><i class="fas fa-search"></i></span>
    <input #userInput (keydown.enter)="buscarUsuario(userInput.value)" type="text" class="form-control" placeholder="Busca por CUI, nombre, apellido...">
  </div>
  <button class="mb-3 btn btn-outline-success" *ngIf="datos === 'lleno' && opcionPrueba === 'todos'"><i class="fas fa-user-plus"></i> Agregar Usuario</button>
  <!--Empieza el llenado automático datos usuario-->
  <table class="table" *ngIf="datos === 'lleno' && opcionPrueba === 'todos'">
    <thead class="table-dark">
      <tr>
        <th scope="col">CUI o Carne</th>
        <th scope="col">Nombres</th>
        <th scope="col">Apellidos</th>
        <th scope="col">E-mail</th>
        <th scope="col">Usuario</th>
        <th scope="col">Rol</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let users of usuarios">
        <th>{{users.CUI}}</th>
        <td>{{users.nombre}}</td>
        <td>{{users.apellido}}</td>
        <td>{{users.email}}</td>
        <td>{{users.usuario}}</td>
        <td>{{users.rol}}</td>
        <td>
          <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-outline-primary"><i class="far fa-eye"></i> Ver</button>
            <button type="button" class="btn btn-outline-primary"><i class="fas fa-user-edit"></i> Editar</button>
            <button type="button" class="btn btn-outline-primary"><i class="fas fa-user-times"></i> Eliminar</button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <!--Termina el llenado automática para el usuario-->
  <!--Empieza el llenado para el usuario buscado-->
  <table class="table" *ngIf="usuarioBuscado.length >= 1 && opcionPrueba === 'buscar'">
    <thead class="table-dark">
      <tr>
        <th scope="col">CUI o Carne</th>
        <th scope="col">Nombres</th>
        <th scope="col">Apellidos</th>
        <th scope="col">E-mail</th>
        <th scope="col">Usuario</th>
        <th scope="col">Rol</th>
        <th scope="col">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of usuarioBuscado">
        <th>{{user.CUI}}</th>
        <td>{{user.nombre}}</td>
        <td>{{user.apellido}}</td>
        <td>{{user.email}}</td>
        <td>{{user.usuario}}</td>
        <td>{{user.rol}}</td>
        <td>
          <div class="btn-group" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-outline-primary"><i class="far fa-eye"></i> Ver</button>
            <button type="button" class="btn btn-outline-primary"><i class="fas fa-user-edit"></i> Editar</button>
            <button type="button" class="btn btn-outline-primary"><i class="fas fa-user-times"></i> Eliminar</button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <!--Termina datos para el usuario buscado-->
  <!--Empieza sin usuarios automático -->
  <div style="text-align: center;" *ngIf="datos === 'vacio'">
    <img style="width: 60%;" src="assets/sin datos.jpg" alt="vacio">
    <h3>No hay usuarios registrados</h3>
  </div>
  <!--Termina sin usuarios automático-->
  <!--Empieza sin usuarios automático -->
  <div style="text-align: center;" *ngIf="userInput && usuarioBuscado.length === 0 && opcionPrueba === 'buscar'">
    <img style="width: 60%;" src="assets/sin datos.jpg" alt="vacio">
    <h3>No hay resultados de: <b>{{buscado}}</b></h3>
  </div>
  <!--Termina sin usuarios automático-->
</div>
